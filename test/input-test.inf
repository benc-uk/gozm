
! =============================================================================
! The purpose of this story is to simply test some basic functionality
! =============================================================================

Array text_array -> 63;
Array parse_array -> 42;

[ Main w x length position dict c;
  w = 'mary'; w = 'had'; w = 'a//'; w = 'little'; w = 'lamb';
  for (::) {
      print "^> ";
      text_array->0 = 60; parse_array->0 = 10;
      read text_array parse_array;
      print "^You entered: ";
      for (x=0:x<text_array->0:x++) {
           c = text_array->(1+x);
           print (char) c; 
      }

      print "^Parsed into ", parse_array->1, " words:^";

      for (w=1:w<=parse_array->1:w++) {
          print "Word ", w, ": ";
          length = parse_array->(4*w);
          position = parse_array->(4*w + 1);
          dict = parse_array-->(w*2-1);
          for (x=0:x<length:x++)
              print (char) text_array->(position+x);
          print " (length ", length, ")";
          if (dict) print " equals '", (address) dict, "'^";
          else print " is not in the dictionary^";
      }
  }
];